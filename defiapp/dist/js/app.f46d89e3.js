(function(t){function e(e){for(var n,o,i=e[0],l=e[1],c=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},16:function(t,e){},17:function(t,e){},18:function(t,e){},19:function(t,e){},2:function(t,e){},20:function(t,e){},21:function(t,e){},22:function(t,e){},23:function(t,e){},2464:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.transferVaultDialog,callback:function(e){t.transferVaultDialog=e},expression:"transferVaultDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Transfer Vault ")]),a("v-text-field",{attrs:{label:"Recipient Address",type:"text",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v(" cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.transferVault}},[t._v(" Transfer ")])],1)],1)],1)},s=[],r=a("1da1"),o=(a("96cf"),{props:["id"],data:function(){return{address:""}},computed:{bnbprice:function(){return this.$store.state.constant.bnbprice},gDaiPrice:function(){return this.$store.state.constant.gDaiPrice},transferVaultDialog:function(){return this.$store.state.vault.transferVaultDialog},user:function(){return this.$store.state.currentUser.user}},methods:{transferVault:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("loading/activateLoader",!0),e.prev=1,e.next=4,window.tokenContract.methods.transferVault(t.id,t.address).send({from:t.user.address});case 4:t.$toast.success("vault Transferred successfully"),t.$store.dispatch("loading/activateLoader",!1),t.$store.dispatch("vault/loadVault",t.id),t.close(),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$toast.error("Transaction Reverted."),t.$store.dispatch("loading/activateLoader",!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()},close:function(){this.$store.dispatch("vault/transferVaultDialog",!1)}},mounted:function(){}}),i=o,l=a("2877"),c=Object(l["a"])(i,n,s,!1,null,null,null);e["default"]=c.exports},3:function(t,e){},4:function(t,e){},"4d0e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"relative bg-dm-tertiary",staticStyle:{"border-radius":"10px","background-image":'url("")',"background-repeat":"no-repeat","background-size":"contain","background-position":"center bottom"}},[a("div",[a("div",{staticClass:"flex justify-between items-center bg-dm-secondary flex items-center rounded-t px-2 py-4 sm:px-8 sm:py-6"},[a("div",{staticClass:"grid grid-cols-2 md:grid-cols-6 gap-2 w-full"},[a("div",{staticClass:"mb-4 md:flex md:mb-0 items-center col-span-4 md:col-span-4"},[a("div",{staticClass:"flex flex-row items-center space-x-2 text-lg whitespace-nowrap"},[a("span",{staticStyle:{color:"white"}},[t._v("Your Vaults")]),t.search?a("div",{staticClass:" ",staticStyle:{"padding-bottom":"20px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"}),a("div",{staticClass:"col-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.valtId,expression:"valtId"}],staticClass:"form-control",staticStyle:{height:"40px","border-radius":"20px","margin-right":"30px",color:"black"},attrs:{type:"number",placeholder:"Vault ID"},domProps:{value:t.valtId},on:{input:function(e){e.target.composing||(t.valtId=e.target.value)}}})]),a("div",{staticClass:"col-3"},[a("button",{staticClass:"flex items-center rounded-lg bg-pink-deeper text-sm text-white py-3 px-3 search-button"},[a("div",{staticClass:"mr-2 ml-2",on:{click:function(e){return t.searchVault()}}},[t._v("Go")])])])])]):t._e()])]),a("button",{staticClass:"bg-transparent p-3 flex flex-row items-center justify-center rounded focus:outline-none focus:ring col-span-1 bg-dm-primary text-white opacity-100 disabled:pointer-events-none disabled:opacity-10",on:{click:function(e){return t.openSearch()}}},[t._v("Search")]),a("button",{staticClass:"bg-transparent p-3 flex flex-row items-center justify-center rounded focus:outline-none focus:ring bg-dm-primary text-white col-span-1 opacity-100 disabled:pointer-events-none disabled:opacity-10",on:{click:t.create}},[t._v("Create")])])]),a("div",{staticClass:"px-2 py-4 sm:p-8"},[t._m(0),t._l(t.vaults,(function(e){return a("div",{key:e.id,staticClass:"grid grid-cols-4 pb-4 px-4 text-sm  ",staticStyle:{background:"gray",padding:"15px","border-radius":"20px",margin:"10px"},on:{click:function(a){return t.openVault(e.id)}}},[a("div",[t._v(t._s(e.id))]),a("div",{staticClass:"flex items-center justify-end"},[t._v(t._s(parseFloat(e.vaultCollateral).toFixed(2))+" ")]),a("div",{staticClass:"flex items-center justify-end"},[t._v(t._s(parseFloat(e.debt).toFixed(2)))]),a("div",{staticClass:"flex items-center justify-end"},[t._v(t._s(parseFloat(e.ratio).toFixed(2)))])])})),0==t.vaults.length?a("div",{staticClass:"flex-col space-y-2"},[a("div",{staticClass:"w-full text-center py-6"},[t._v("You have no vaults.")])]):t._e(),a("div",{staticClass:"rounded-lg bg-yellow-400 bg-opacity-20 p-4 mt-4"},[a("span",{staticClass:"text-sm text-white flex flex-row text-center"},[t._v("55,264,387.665 gDai available to mint"),a("span",{staticStyle:{"margin-left":"4px"}},[a("div",{staticClass:"sc-bwzfXH kNDdYo"},[a("div",{staticClass:"sc-ifAKCX dCBhOg"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[a("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),a("path",{attrs:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}}),a("line",{attrs:{x1:"12",y1:"17",x2:"12.01",y2:"17"}})])])])])])])],2)])]),a("div",{staticClass:"text-center m-4"},[a("h2",{staticClass:"text-dm-text-tertiary"},[t._v(" Liquidate undercollateralized vaults in the "),a("span",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:t.openMonitor}},[t._v("vault monitor")]),t._v(" !")])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grid grid-cols-4 pb-4 px-4 text-sm  text-secondary"},[a("div",[t._v("Vault ID")]),a("div",{staticClass:"flex items-center justify-end"},[t._v("Collateral (ETH)")]),a("div",{staticClass:"flex items-center justify-end"},[t._v("Debt (gDai)")]),a("div",{staticClass:"flex items-center justify-end"},[t._v("Ratio")])])}],r=a("53ca"),o=a("1da1"),i=(a("ac1f"),a("841c"),a("96cf"),{data:function(){return{valtId:"",search:!1,dialog:!1,logo:a("e429"),headers:[{text:"Vault ID",sortable:!1,value:"id"},{text:"Collateral (ETH)",value:"Collateral"},{text:"Debt gDai",value:"Debt"},{text:"Ratio(%)",value:"ratio"}]}},computed:{user:function(){return this.$store.state.currentUser.user},vaults:function(){return this.$store.state.vault.vaults}},watch:{},mounted:function(){},methods:{openMonitor:function(){this.$router.push({path:"/monitor"})},searchVault:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$store.dispatch("loading/activateLoader",!0),""!=t.valtId){e.next=5;break}return t.$toast.error("Enter Vault ID"),t.$store.dispatch("loading/activateLoader",!1),e.abrupt("return");case 5:return e.next=7,window.tokenContract.methods.vaultExistence(t.valtId).call();case 7:a=e.sent,a?(t.$store.dispatch("loading/activateLoader",!1),t.$router.push("/vaultmenu/"+t.valtId)):(t.$toast.error("Enter a Valid Vault ID"),t.$store.dispatch("loading/activateLoader",!1));case 9:case"end":return e.stop()}}),e)})))()},openSearch:function(){this.search=!0},openVault:function(t){this.$router.push("/vaultmenu/"+t)},loadVault:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.vaults=[],console.log(t.user.address),a=null!=localStorage.getItem(t.user.address.toLowerCase())?JSON.parse(localStorage.getItem(t.user.address.toLowerCase())):[],console.log(a),n=0;case 5:if(!(n<a.length)){e.next=22;break}return s={},s.id=a[n],e.next=10,window.tokenContract.methods.vaultDebt(a[n]).call();case 10:return s.debt=e.sent,s.debt=window.web3.utils.fromWei(s.debt),e.next=14,window.tokenContract.methods.vaultCollateral(a[n]).call();case 14:s.vaultCollateral=e.sent,s.vaultCollateral=window.web3.utils.fromWei(s.vaultCollateral),console.log(Object(r["a"])(s.debt)),s.ratio=0,t.vaults.push(s);case 19:n++,e.next=5;break;case 22:case"end":return e.stop()}}),e)})))()},rescanVaults:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("vaultcount 1"),e.next=3,window.tokenContract.methods.vaultCount().call();case 3:a=e.sent,console.log("vaultcount"),console.log("count "+a),n=[],s=0;case 8:if(!(s<a)){e.next=17;break}return e.next=11,window.tokenContract.methods.vaultOwner(s).call();case 11:r=e.sent,console.log(r),r.toLowerCase()==t.user.address.toLowerCase()&&(n.push(s),localStorage.setItem(t.user.address.toLowerCase(),JSON.stringify(n)));case 14:s++,e.next=8;break;case 17:case"end":return e.stop()}}),e)})))()},create:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("loading/activateLoader",!0),t.$store.dispatch("vault/createVault").then((function(e){var a=null!=localStorage.getItem(t.user.address)?JSON.parse(localStorage.getItem(t.user.address)):[];a.push(e),localStorage.setItem(t.user.address,JSON.stringify(a)),t.$toast.success("vault created successfully"),t.rescanVaults(),t.loadVault(),t.$store.dispatch("loading/activateLoader",!1)})).catch((function(e){t.$toast.error("transaction reverted"),console.log(e),t.$store.dispatch("loading/activateLoader",!1)}));case 2:case"end":return e.stop()}}),e)})))()}}}),l=i,c=a("2877"),u=Object(c["a"])(l,n,s,!1,null,null,null);e["default"]=u.exports},"4d0f":function(t,e,a){t.exports=a.p+"img/loogo.5c3fbb9b.png"},"4e2b4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.withdrawDialog,callback:function(e){t.withdrawDialog=e},expression:"withdrawDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Withdraw Collateral "),a("span",{staticStyle:{color:"blue","margin-left":"50px",cursor:"pointer"},on:{click:t.setMax}},[t._v(" Max")])]),a("v-text-field",{attrs:{label:"Withdraw Amount",type:"number",required:""},model:{value:t.withdrawAmount,callback:function(e){t.withdrawAmount=e},expression:"withdrawAmount"}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v(" cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.withdraw}},[t._v(" withdraw ")])],1)],1)],1)},s=[],r=a("1da1"),o=(a("96cf"),{props:["id","colateral"],data:function(){return{withdrawAmount:0}},computed:{withdrawDialog:function(){return this.$store.state.vault.withdrawDialog},user:function(){return this.$store.state.currentUser.user}},methods:{setMax:function(){console.log(this.colateral),this.withdrawAmount=this.colateral},withdraw:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("loading/activateLoader",!0),e.prev=1,e.next=4,window.tokenContract.methods.withdrawCollateral(t.id,window.web3.utils.toBN(window.web3.utils.toWei(t.withdrawAmount))).send({from:t.user.address});case 4:t.$toast.success("Collatoral Deposited successfully"),t.$store.dispatch("loading/activateLoader",!1),t.$store.dispatch("vault/loadVault",t.id),t.close(),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$toast.error("Transaction Reverted."),t.$store.dispatch("loading/activateLoader",!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()},close:function(){this.$store.dispatch("vault/withdrawDialog",!1)}},mounted:function(){}}),i=o,l=a("2877"),c=Object(l["a"])(i,n,s,!1,null,null,null);e["default"]=c.exports},5:function(t,e){},"55b1":function(t,e,a){"use strict";a.r(e);var n,s,r,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-row flex-nowrap justify-between w-screen"},[n("nav",{staticClass:"w-screen bg-transparent gradiant-border-bottom z-10"},[n("div",{staticClass:"px-4 py-1.5"},[n("div",{staticClass:"flex items-center justify-between h-16"},[n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"flex-shrink-0 text-gray-900"},[n("img",{staticClass:"stroke-current h-10 w-auto",attrs:{src:t.logo,alt:"gDai Dao"}})]),t._m(0)]),n("div",{staticClass:"flex flex-row items-center justify-center p-4 fixed left-0 bottom-0 bg-transparent lr:relative lr:p-0 lr:bg-transparent"},[n("div",{staticClass:"flex items-center justify-between sm:justify-end space-x-2 w-full"},[n("div",{staticClass:"hidden md:inline-block"},[n("button",{staticClass:"flex items-center rounded bg-dm-tertiary whitespace-nowrap text-sm font-bold select-none"},[n("img",{staticClass:"rounded-md mr-2",staticStyle:{width:"22px",height:"22px","padding-left":"2px"},attrs:{src:t.logo}}),n("div",{staticClass:"grid grid-flow-col auto-cols-max items-center rounded-lg text-sm text-dm-text-primary py-2 px-3 pointer-events-auto"},[t._v(" $3200 ")]),n("img",{staticClass:"ml-2 w-4 h-4",attrs:{src:a("619b"),alt:"Add to metamask"}})])]),n("div",{staticClass:"hidden md:inline-block"},[n("button",{staticClass:"flex items-center rounded bg-dm-tertiary whitespace-nowrap text-sm font-bold select-none"},[n("img",{staticClass:"rounded-md mr-2",staticStyle:{width:"22px",height:"22px","padding-left":"2px"},attrs:{src:t.logo}}),n("div",{staticClass:"grid grid-flow-col auto-cols-max items-center rounded-lg text-sm text-dm-text-primary py-2 px-3 pointer-events-auto"},[t._v(" $0.993 ")]),n("img",{staticClass:"ml-2 w-4 h-4",attrs:{src:a("619b"),alt:"Add to metamask"}})])]),t.user.address?n("div",{staticClass:"hidden md:inline-block"},[n("button",{staticClass:"flex items-center rounded bg-dm-tertiary whitespace-nowrap text-sm font-bold select-none"},[n("div",{staticClass:"grid grid-flow-col auto-cols-max items-center rounded-lg text-sm text-dm-text-primary py-2 px-3 pointer-events-auto"},[t._v(" "+t._s(t.gDaiBalance)+" gDai ")])])]):t._e(),t.user.address?n("div",{staticClass:"hidden md:inline-block"},[n("button",{staticClass:"flex items-center rounded bg-dm-tertiary whitespace-nowrap text-sm font-bold select-none"},[n("div",{staticClass:"grid grid-flow-col auto-cols-max items-center rounded-lg text-sm text-dm-text-primary py-2 px-3 pointer-events-auto"},[t._v(" "+t._s(t.ethBalance)+" ETH ")])])]):t._e(),t.user.id?n("div",{staticClass:"hidden md:inline-block"},[n("button",{staticClass:"flex items-center rounded  bg-pink-deeper whitespace-nowrap text-sm font-bold select-none",on:{click:function(e){t.dialog=!0}}},[n("div",{staticClass:"grid grid-flow-col auto-cols-max items-center rounded-lg text-sm  py-2 px-3 pointer-events-auto"},[t._v(" "+t._s(t.addressFormated)+" ")])])]):t._e(),t.user.id?t._e():n("div",{staticClass:"hidden md:inline-block"},[n("button",{staticClass:"flex items-center rounded  bg-pink-deeper whitespace-nowrap text-sm font-bold select-none",on:{click:function(e){return t.onConnect()}}},[n("div",{staticClass:"grid grid-flow-col auto-cols-max items-center rounded-lg text-sm  py-2 px-3 pointer-events-auto"},[t._v(" connect wallet ")])])]),n("div",{staticClass:"relative"},[n("button",{staticClass:"text-primary focus:outline-none",attrs:{id:"headlessui-popover-button-1",type:"button","aria-expanded":"false"}},[n("svg",{staticClass:"text-gray-400 inline-flex items-center ml-2 h-5 w-5 group-hover:text-secondary hover:text-high-emphesis",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"}},[n("title",[t._v("More")]),n("path",{attrs:{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),n("path",{attrs:{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),n("path",{attrs:{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])])])]),n("div",{staticClass:"-mr-2 flex sm:hidden"},[n("button",{staticClass:"inline-flex items-center justify-center p-2 rounded-md text-primary hover:text-high-emphesis focus:outline-none",attrs:{id:"headlessui-disclosure-button-3",type:"button","aria-expanded":"false"}},[n("span",{staticClass:"sr-only"},[t._v("Open main menu")]),n("svg",{staticClass:"block h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"}},[n("title",[t._v("Burger")]),n("line",{attrs:{x1:"3",y1:"12",x2:"21",y2:"12"}}),n("line",{attrs:{x1:"3",y1:"6",x2:"21",y2:"6"}}),n("line",{attrs:{x1:"3",y1:"18",x2:"21",y2:"18"}})])])])])])]),n("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-divider"),n("v-card-text",[t._v(" Do you want to logout? ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" cancel ")]),n("v-btn",{attrs:{color:"warning",text:""},on:{click:function(e){return t.onDisconnect()}}},[t._v(" logout ")])],1)],1)],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hidden sm:block sm:ml-4"},[a("div",{staticClass:"flex space-x-2"},[a("a",{staticClass:"text-baseline text-primary p-2 md:p-3 hover:text-white focus:text-white text-white",staticStyle:{"font-size":"20px"},attrs:{href:"/",id:"vaults-nav-link","aria-current":"page"}},[t._v("Vaults")]),a("a",{staticClass:"text-baseline text-primary p-2 md:p-3 hover:text-white focus:text-white",staticStyle:{"font-size":"20px"},attrs:{href:"/",id:"swap-nav-link"}},[t._v("Swap")])])])}],l=a("53ca"),c=a("1da1"),u=(a("d81d"),a("b680"),a("d3b7"),a("3ca3"),a("ddb0"),a("96cf"),a("b1a3")),d=window.Web3Modal.default,p=window.WalletConnectProvider.default,m=window.Fortmatic,f=window.evmChains,v=a("99e5"),h={data:function(){return{dialog:!1,logo:a("4d0f")}},computed:{bnbprice:function(){return this.$store.state.constant.bnbprice},gDaiPrice:function(){return this.$store.state.constant.gDaiPrice},gDaiBalance:function(){return this.$store.state.vault.gdaiBalance},ethBalance:function(){return this.$store.state.vault.EthBalance},user:function(){return this.$store.state.currentUser.user},addressFormated:function(){return this.user.address?this.user.address.substring(0,6)+"...."+this.user.address.substring(this.user.address.length-4,this.user.address.length):""}},mounted:function(){this.init()},methods:{init:function(){return Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("Initializing example"),console.log("WalletConnectProvider is",p),console.log("Fortmatic is",m),console.log("window.web3 is",window.web3,"window.ethereum is",window.ethereum),e={walletconnect:{package:p,options:{infuraId:"d2ae878adfc8418fb4f4d73eefa31332"}}},n=new d({cacheProvider:!1,providerOptions:e,disableInjectedProvider:!1}),console.log("Web3Modal instance is",n);case 7:case"end":return t.stop()}}),t)})))()},onConnect:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Opening a dialog",n),e.prev=1,e.next=4,n.connect();case 4:s=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](1),console.log("Could not get a wallet connection",e.t0),e.abrupt("return");case 11:return s.on("accountsChanged",(function(e){console.log(e),t.fetchAccountData()})),s.on("chainChanged",(function(e){console.log(e),t.fetchAccountData()})),s.on("networkChanged",(function(e){console.log(e),t.fetchAccountData()})),e.next=16,t.refreshAccountData();case 16:case"end":return e.stop()}}),e,null,[[1,7]])})))()},refreshAccountData:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchAccountData(s);case 2:case"end":return e.stop()}}),e)})))()},onDisconnect:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("Killing the wallet connection",s),!s.close){e.next=7;break}return e.next=4,s.close();case 4:return e.next=6,n.clearCachedProvider();case 6:s=null;case 7:r=null,localStorage.removeItem("user"),t.$store.dispatch("currentUser/logout"),t.dialog=!1;case 11:case"end":return e.stop()}}),e)})))()},logout:function(){localStorage.removeItem("user"),this.$store.dispatch("currentUser/logout"),this.dialog=!1},login:function(){var t=this;this.$store.dispatch("metamask/innitaliseWeb3").then((function(e){console.log(e),t.$store.dispatch("metamask/validateMetamaskAvailable").then((function(e){console.log(e),t.$store.dispatch("metamask/loginMetaMask").then((function(){t.$toast.success("login successful"),t.$store.dispatch("currentUser/setUser",null!=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{})}))})).catch((function(e){t.$toast.error(e)}))})).catch((function(e){t.$toast.error(e)}))},fetchAccountData:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,o,i,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new v(s),console.log("Web3 instance is",a),e.next=4,new a.eth.Contract(u["a"],u["b"]);case 4:return window.tokenContract=e.sent,window.web3=a,e.next=8,a.eth.getChainId();case 8:return n=e.sent,o=f.getChain(n),console.log(o),e.next=13,a.eth.getAccounts();case 13:return i=e.sent,console.log("Got accounts",i),r=i[0],console.log(r),d={},d.id=Math.floor(1e3*Math.random())+1,d.address=i[0],t.$store.dispatch("currentUser/setUser",d),p=i.map(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(n){var s,r,o,i,c,u,d,p,m,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.eth.getBalance(n);case 2:return s=e.sent,r=a.utils.fromWei(s,"ether"),o=parseFloat(r).toFixed(4),t.$store.dispatch("vault/loadBalances"),console.log(o),console.log("vaultcount 1"),e.next=10,window.tokenContract.methods.vaultCount().call();case 10:i=e.sent,console.log("vaultcount"),console.log("count "+i),c=[],u=0;case 15:if(!(u<i)){e.next=24;break}return e.next=18,window.tokenContract.methods.vaultOwner(u).call();case 18:d=e.sent,console.log(d),d.toLowerCase()==t.user.address.toLowerCase()&&c.push(u);case 21:u++,e.next=15;break;case 24:p=[],console.log(c),m=0;case 27:if(!(m<c.length)){e.next=44;break}return f={},f.id=c[m],e.next=32,window.tokenContract.methods.vaultDebt(c[m]).call();case 32:return f.debt=e.sent,f.debt=window.web3.utils.fromWei(f.debt),e.next=36,window.tokenContract.methods.vaultCollateral(c[m]).call();case 36:f.vaultCollateral=e.sent,f.vaultCollateral=window.web3.utils.fromWei(f.vaultCollateral),console.log(Object(l["a"])(f.debt)),f.ratio=0,p.push(f);case 41:m++,e.next=27;break;case 44:t.$store.dispatch("vault/setVaults",p);case 45:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=24,Promise.all(p);case 24:case"end":return e.stop()}}),e)})))()}}},w=h,b=a("2877"),g=Object(b["a"])(w,o,i,!1,null,null,null);e["default"]=g.exports},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("loader")],1)},r=[],o={mounted:function(){}},i=o,l=(a("034f"),a("2877")),c=Object(l["a"])(i,s,r,!1,null,null,null),u=c.exports,d=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("topmenu"),a("div",{staticClass:"flex flex-col flex-1 items-center justify-start w-screen overflow-y-auto overflow-x-hidden z-0 pt-4 sm:pt-8 px-4 md:pt-10 pb-20"},[a("div",{staticClass:"sc-gwVKww sc-daURTG gBShpO"}),t._m(0),a("div",{staticClass:"absolute top-100 right-0 left-50 overflow-hidden",staticStyle:{"z-index":"-1"}}),a("div",{staticClass:"container max-w-3xl mx-auto px-4 md:px-0"},[a("vaultdetails",{attrs:{id:t.$route.params.id}})],1)])],1)},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sc-cQFLBn cThFpX",attrs:{height:"0"}},[a("div",{staticClass:"sc-gojNiO qxEgk"})])}],f={props:["id"],data:function(){return{}},mounted:function(){console.log(this.$route.params.id)}},v=f,h=Object(l["a"])(v,p,m,!1,null,null,null),w=h.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("topmenu"),a("div",{staticClass:"flex flex-col flex-1 items-center justify-start w-screen overflow-y-auto overflow-x-hidden z-0 pt-4 sm:pt-8 px-4 md:pt-10 pb-20"},[a("div",{staticClass:"sc-gwVKww sc-daURTG gBShpO"}),t._m(0),a("div",{staticClass:"absolute top-100 right-0 left-50 overflow-hidden",staticStyle:{"z-index":"-1"}}),a("div",{staticClass:"container max-w-3xl mx-auto px-4 md:px-0"},[t.user.address?a("vault"):a("div",{staticClass:"relative bg-dm-tertiary",staticStyle:{"border-radius":"10px","background-image":'url("")',"background-repeat":"no-repeat","background-size":"contain","background-position":"center bottom"}},[a("div",[a("div",{staticClass:"px-2 py-4 sm:p-8"},[a("div",{staticClass:"flex-col space-y-2"},[a("div",{staticClass:"w-full text-center py-6"},[a("h2",{staticStyle:{"text-align":"center",color:"white"}},[t._v("Please connect your wallet!")])])])])])])],1)])],1)},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sc-cQFLBn cThFpX",attrs:{height:"0"}},[a("div",{staticClass:"sc-gojNiO qxEgk"})])}],y={data:function(){return{}},computed:{user:function(){return this.$store.state.currentUser.user}},methods:{openMonitor:function(){this.$router.push({path:"/monitor"})}},mounted:function(){}},x=y,C=Object(l["a"])(x,b,g,!1,null,null,null),k=C.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("topmenu"),t.user.address?a("div",[a("monitor")],1):a("div",{staticClass:"alert alert-warninng "},[a("h4",{staticStyle:{"text-align":"center",color:"white"}},[t._v("Please connect your wallet ")])])],1)},D=[],$={data:function(){return{}},computed:{user:function(){return this.$store.state.currentUser.user}}},O=$,M=Object(l["a"])(O,_,D,!1,null,null,null),S=M.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 404 ERROR ")])},V=[],j={},I=Object(l["a"])(j,R,V,!1,null,null,null),A=I.exports;n["default"].use(d["a"]);var P=[{path:"/",component:k},{path:"/vaultmenu/:id",name:"vaultmenu",component:w},{path:"/monitor",component:S},{path:"/:catchAll(.*)",component:A,name:"NotFound"}],U=new d["a"]({mode:"history",routes:P}),L=U,T=a("2f62"),F=(a("d3b7"),a("bc3a")),E=a.n(F),B=a("1f5a");B.initialize("SWbDM0VX25m6PRF7c2hSdDS8uAUnDAd3JaTRo9ku"),B.serverURL="https://ejnhey9ha2gc.moralis.io:2053/server";var W=B,N={userAuthenticated:!1,user:{},loggedIn:!1,updateImageDialog:!1},J={},z={setUser:function(t,e){var a=t.commit;a("setActiveUser",e)},updateName:function(t,e){var a=t.commit;return new Promise((function(t,n){E.a.post("/api/profile/updatename",{name:e}).then((function(e){"200"==e.data.code?(a("setUser",e.data.user),t(e.data.msg)):n(e.data.error)})).catch((function(t){n(JSON.stringify(t))}))}))},updatePhoneNumber:function(t,e){var a=t.commit;return new Promise((function(t,n){E.a.post("/api/profile/updatephone",{phone_number:e}).then((function(e){"200"==e.data.code?(a("setUser",e.data.user),t(e.data.msg)):n(e.data.error)})).catch((function(t){n(JSON.stringify(t))}))}))},updatePassword:function(t,e){var a=t.commit;return new Promise((function(t,n){E.a.post("/api/profile/updatepassword",{password:e}).then((function(e){"200"==e.data.code?(a("setUser",e.data.user),t(e.data.msg)):n(e.data.error)})).catch((function(t){n(JSON.stringify(t))}))}))},uploadProfile:function(t,e){var a=this,n=t.commit;return new Promise((function(t,s){E.a.post("/api/profile/updateimage",e).then((function(e){console.log(e),"200"==e.data.code?(n("setUser",e.data.user),t("Profile Image Updated Successfully.")):s(a.response.data.error)})).catch((function(t){s(JSON.stringify(t))}))}))},updateImageDialogState:function(t,e){var a=t.commit;a("setUpdateImageDialog",e)},savePassword:function(t,e){return new Promise((function(t,a){E.a.post("/api/savepassword",{password:e.password,email:e.email,token:e.token}).then((function(e){"200"==e.data.code?t("password Reset  Sucessfully. You can Now Login."):a(e.data.error)})).catch((function(t){a(t.message)}))}))},ressetPassword:function(t,e){return new Promise((function(t,a){E.a.post("/api/resetpassword",{email:e}).then((function(e){"200"==e.data.code?t("password Reset Link Sent, Sucessfully."):"204"==e.data.code?a(e.data.message):"400"==e.data.code?a(e.data.error):a("Server Error!!! very Unusual Right?")})).catch((function(t){console.log(t),a(t.message)}))}))},registerUser:function(t,e){return new Promise((function(t,a){E.a.post("/api/register",{email:e.email,name:e.username,password:e.password}).then((function(e){console.log(e.data.code),"200"==e.data.code?t("Registration Succesfull"):a(e.data.error.email[0])})).catch((function(t){a(t.message)}))}))},attemptLogin:function(t){var e=t.commit,a=W.User.current();a&&(a.address=a.get("ethAddress"),e("setActiveUser",a))},getUser:function(t){var e=t.commit;E.a.get("/api/user").then((function(t){console.log(t.data),t.data.id?(e("setUser",t.data),e("setLoggedIn",!0)):window.location.href="/login"})).catch((function(t){console.log(t),window.location.href="/login"}))},logout:function(t){var e=t.commit;return new Promise((function(t){localStorage.setItem("user",JSON.stringify({})),e("removeUser"),t("successfully logged out")}))},Moralislogout:function(t){var e=t.commit;return new Promise((function(t,a){W.User.logOut().then((function(){e("removeUser"),t("successfully logged out")})).catch((function(t){return a(t)}))}))},loginUser:function(t){var e=t.commit;return new Promise((function(t,a){var n=W.User.current();n?e("setActiveUser",n):W.Web3.authenticate().then((function(a){console.log(a.get("ethAddress")),a.address=a.get("ethAddress"),e("setActiveUser",a),t("User Login Successful.")})).catch((function(t){a(t)}))}))}},q={setUpdateImageDialog:function(t,e){t.updateImageDialog=e},setLoggedIn:function(t,e){t.loggedIn=e},setActiveUser:function(t,e){t.user=e,t.userAuthenticated=!0},removeUser:function(t){t.user={},t.userAuthenticated=!1}},G={namespaced:!0,state:N,getters:J,actions:z,mutations:q},H={status:!0},X={},K={activateLoader:function(t,e){var a=t.commit;a("setLoader",e)}},Y={setLoader:function(t,e){t.status=e}},Z={namespaced:!0,state:H,getters:X,actions:K,mutations:Y},Q={base_url:"http://127.0.0.1:3232/",api_url:"http://127.0.0.1:3232/api/",bnbprice:3230,gDaiPrice:.999},tt={},et={},at={},nt={namespaced:!0,state:Q,getters:tt,actions:et,mutations:at},st=a("1da1"),rt=(a("96cf"),a("99e5")),ot=a.n(rt),it=a("b1a3"),lt={user:{},poolBalance:0,netWorkID:0},ct={},ut={getNetwork:function(t){return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,window.web3=new ot.a(window.ethereum),e.next=4,window.web3.eth.net.getId();case 4:n=e.sent,a("setNeworkID",n);case 6:case"end":return e.stop()}}),e)})))()},logout:function(){return Object(st["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},innitaliseWeb3:function(){return Object(st["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!window.ethereum){t.next=6;break}return window.web3=new ot.a(window.ethereum),window.ethereum.enable(),t.next=5,new window.web3.eth.Contract(it["a"],it["b"]);case 5:window.tokenContract=t.sent;case 6:case"end":return t.stop()}}),t)})))()},validateMetamaskAvailable:function(){return new Promise((function(t,e){"undefined"!==typeof window.ethereum&&t("available"),e({message:"Metamask not installed, please install metamask to use this App."})}))},loginMetaMask:function(t){return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,window.web3.eth.getAccounts();case 3:return n=e.sent,s=n[0],a("setUser",s),e.abrupt("return",new Promise((function(t){t("Login Successful")})));case 7:case"end":return e.stop()}}),e)})))()},setUser:function(t,e){var a=t.commit;a("setUser",e)}},dt={setUser:function(t,e){var a={};a.id=Math.floor(1e3*Math.random())+1,a.address=e,t.user=a,localStorage.setItem("user",JSON.stringify(a))},setNeworkID:function(t,e){t.netWorkID=e}},pt={namespaced:!0,state:lt,getters:ct,actions:ut,mutations:dt},mt=(a("b680"),{depositDialog:!1,withdrawDialog:!1,borrowDialog:!1,vaultOwner:!1,rapayDialog:!1,transferVaultDialog:!1,vault:{},gdaiBalance:0,EthBalance:0,vaults:[]}),ft={},vt={loadVaults:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var n,s,r,o,i,l,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,a.next=3,window.tokenContract.methods.vaultCount().call();case 3:s=a.sent,r=[],o=0;case 6:if(!(o<s)){a.next=15;break}return a.next=9,window.tokenContract.methods.vaultOwner(o).call();case 9:i=a.sent,console.log(i),i.toLowerCase()==e.user.address.toLowerCase()&&r.push(o);case 12:o++,a.next=6;break;case 15:l=[],console.log(r),c=0;case 18:if(!(c<r.length)){a.next=34;break}return u={},u.id=r[c],a.next=23,window.tokenContract.methods.vaultDebt(r[c]).call();case 23:return u.debt=a.sent,u.debt=window.web3.utils.fromWei(u.debt),a.next=27,window.tokenContract.methods.vaultCollateral(r[c]).call();case 27:u.vaultCollateral=a.sent,u.vaultCollateral=window.web3.utils.fromWei(u.vaultCollateral),u.ratio=0,l.push(u);case 31:c++,a.next=18;break;case 34:n("setVaults",l);case 35:case"end":return a.stop()}}),a)})))()},setVaults:function(t,e){var a=t.commit;a("setVaults",e)},loadBalances:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var n,s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,a.next=3,window.tokenContract.methods.balanceOf(e.state.currentUser.user.address).call();case 3:return s=a.sent,a.next=6,window.web3.eth.getBalance(e.state.currentUser.user.address);case 6:r=a.sent,r=window.web3.utils.fromWei(r,"ether"),s=window.web3.utils.fromWei(s,"ether"),r=parseFloat(r).toFixed(4),s=parseFloat(s).toFixed(4),n("setGdaiBalance",s),n("setEthBalance",r);case 13:case"end":return a.stop()}}),a)})))()},loadVault:function(t,e){var a=this;return Object(st["a"])(regeneratorRuntime.mark((function n(){var s,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.commit,n.next=3,window.tokenContract.methods.vaultOwner(e).call();case 3:return r=n.sent,a.state.currentUser.user.address.toLowerCase()==r.toLowerCase()&&s("setIsOwner",!0),o={},n.next=8,window.tokenContract.methods.vaultDebt(e).call();case 8:return o.debt=n.sent,o.debt=window.web3.utils.fromWei(o.debt),n.next=12,window.tokenContract.methods.vaultCollateral(e).call();case 12:o.vaultCollateral=n.sent,o.vaultCollateral=window.web3.utils.fromWei(o.vaultCollateral),o.ratio=0,a.vaultData=o,s("setVaultData",o);case 17:case"end":return n.stop()}}),n)})))()},transferVaultDialog:function(t,e){var a=t.commit;a("setTransferVaultDialog",e)},rapayDialog:function(t,e){var a=t.commit;a("setrapayDialog",e)},borrowDialog:function(t,e){var a=t.commit;a("setborrowDialog",e)},depositDialog:function(t,e){var a=t.commit;a("setdepositDialog",e)},withdrawDialog:function(t,e){var a=t.commit;a("setwithdrawDialog",e)},createVault:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.tokenContract.methods.createVault().send({from:t.state.currentUser.user.address}).then((function(t){return new Promise((function(e){e(t.events.CreateVault.returnValues.vaultID)}))})).catch((function(t){return new Promise((function(e,a){a(t)}))}));case 2:case"end":return e.stop()}}),e)})))()}},ht={setVaults:function(t,e){t.vaults=e},setGdaiBalance:function(t,e){t.gdaiBalance=e},setEthBalance:function(t,e){t.EthBalance=e},setTransferVaultDialog:function(t,e){t.transferVaultDialog=e},setrapayDialog:function(t,e){t.rapayDialog=e},setborrowDialog:function(t,e){t.borrowDialog=e},setVaultData:function(t,e){t.vault=e},setIsOwner:function(t,e){t.vaultOwner=e},setwithdrawDialog:function(t,e){t.withdrawDialog=e},setdepositDialog:function(t,e){t.depositDialog=e}},wt={namespaced:!0,state:mt,getters:ft,actions:vt,mutations:ht};n["default"].use(T["a"]);var bt=new T["a"].Store({modules:{currentUser:G,loading:Z,constant:nt,metamask:pt,vault:wt}}),gt=a("b079"),yt=a.n(gt),xt=(a("4238"),a("ce5b")),Ct=a.n(xt);a("bf40");n["default"].use(Ct.a);var kt={},_t=new Ct.a(kt);n["default"].config.productionTip=!1,n["default"].use(yt.a,{position:"top-right"}),n["default"].component("topmenu",a("55b1").default),n["default"].component("loader",a("a609").default),n["default"].component("vault",a("4d0e").default),n["default"].component("vaultdetails",a("a7cb").default),n["default"].component("depositecollateral",a("bdee").default),n["default"].component("withdrawcollateral",a("4e2b4").default),n["default"].component("borrowtoken",a("780c").default),n["default"].component("repaytoken",a("e56a").default),n["default"].component("transfervault",a("2464").default),n["default"].component("monitor",a("5a83").default),new n["default"]({router:L,store:bt,vuetify:_t,render:function(t){return t(u)}}).$mount("#app")},"5a83":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container",staticStyle:{height:"70vh","margin-top":"10vh"}},[t._m(0),a("div",{staticClass:"buttom-container"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.vaults,"items-per-page":5,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"mdi-minus",nextIcon:"mdi-plus"}},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",{on:{click:function(a){return t.openVault(e.item.id)}}},[a("td",[t._v("# "+t._s(e.item.id)+" ("+t._s(e.item.debtRatio)+"%)")]),a("td",[t._v("$"+t._s(e.item.vaultCollateral))]),a("td",[a("span",[t._v("$"+t._s(e.item.debt))])])])]}}])})],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-bar"},[a("div",{staticClass:"top-title"},[a("h4",[t._v(" Vault monitor")]),a("p",[t._v("Showing vaults close to liquidation")])])])}],r=a("53ca"),o=a("1da1"),i=(a("96cf"),a("b680"),a("b1a3")),l={data:function(){return{vaults:[],headers:[{text:"Vault ID + Ratio",sortable:!1,value:"id"},{text:"Collateral Value",value:"Collateral"},{text:"Debt",value:"Debt"}]}},mounted:function(){this.loadVault()},computed:{bnbprice:function(){return this.$store.state.constant.bnbprice},gDaiPrice:function(){return this.$store.state.constant.gDaiPrice},user:function(){return this.$store.state.currentUser.user}},methods:{openVault:function(t){this.$router.push("/vaultmenu/"+t)},loadVault:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.vaults=[],e.next=3,new window.web3.eth.Contract(i["a"],i["b"]);case 3:return window.tokenContract=e.sent,e.next=6,window.tokenContract.methods.vaultCount().call();case 6:a=e.sent,console.log(a),n=null!=localStorage.getItem(t.user.address.toLowerCase())?JSON.parse(localStorage.getItem(t.user.address.toLowerCase())):[],console.log(n),s=0;case 11:if(!(s<a)){e.next=31;break}return o={},o.id=s,e.next=16,window.tokenContract.methods.vaultDebt(s).call();case 16:return o.debt=e.sent,o.debt=window.web3.utils.fromWei(o.debt),e.next=20,window.tokenContract.methods.vaultCollateral(s).call();case 20:o.vaultCollateral=e.sent,o.vaultCollateral=window.web3.utils.fromWei(o.vaultCollateral),o.vaultCollateral=parseFloat(t.bnbprice)*parseFloat(o.vaultCollateral),o.debt=parseFloat(t.gDaiPrice)*parseFloat(o.debt),0==parseFloat(o.vaultCollateral)&&parseFloat(o.debt)&&(o.debtRatio=(parseFloat(o.vaultCollateral)/parseFloat(o.debt)*100).toFixed(2)),console.log(Object(r["a"])(o.debt)),o.ratio=0,t.vaults.push(o);case 28:s++,e.next=11;break;case 31:case"end":return e.stop()}}),e)})))()}}},c=l,u=a("2877"),d=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=d.exports},6:function(t,e){},"619b":function(t,e,a){t.exports=a.p+"img/meta.023762b6.png"},7:function(t,e){},"780c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.borrowDialog,callback:function(e){t.borrowDialog=e},expression:"borrowDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Borrow Token ")]),a("v-text-field",{attrs:{color:"black",label:"Token Amount",type:"number",required:""},model:{value:t.borrowAmount,callback:function(e){t.borrowAmount=e},expression:"borrowAmount"}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v(" cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.borrowToken}},[t._v(" Borrow ")])],1)],1)],1)},s=[],r=a("1da1"),o=(a("96cf"),{props:["id"],data:function(){return{borrowAmount:0}},computed:{borrowDialog:function(){return this.$store.state.vault.borrowDialog},user:function(){return this.$store.state.currentUser.user}},methods:{borrowToken:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("loading/activateLoader",!0),e.prev=1,e.next=4,window.tokenContract.methods.borrowToken(t.id,window.web3.utils.toBN(window.web3.utils.toWei(t.borrowAmount))).send({from:t.user.address});case 4:t.$toast.success("Token Borrowed successfully"),t.$store.dispatch("loading/activateLoader",!1),t.$store.dispatch("vault/loadVault",t.id),t.close(),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$toast.error("Transaction Reverted."),t.$store.dispatch("loading/activateLoader",!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()},close:function(){this.$store.dispatch("vault/borrowDialog",!1)}},mounted:function(){}}),i=o,l=a("2877"),c=Object(l["a"])(i,n,s,!1,null,null,null);e["default"]=c.exports},8:function(t,e){},"85ec":function(t,e,a){},9:function(t,e){},9873:function(t,e,a){},a609:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"con"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loader"},[a("div",{staticClass:"nb-spinner"})]),t.loading?t._e():a("div",{staticClass:"flex flex-col items-start overflow-x-hidden h-full bg-dm-primary"},[a("v-app",{staticStyle:{background:"none",margin:"0",padding:"0"}},[a("router-view")],1)],1)])},s=[],r={data:function(){return{}},computed:{loading:function(){return this.$store.state.loading.status}},mounted:function(){var t=this;setTimeout((function(){t.$store.dispatch("loading/activateLoader",!1)}),1e3)}},o=r,i=(a("f5e5"),a("2877")),l=Object(i["a"])(o,n,s,!1,null,null,null);e["default"]=l.exports},a7cb:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 grid-margin stretch-card ",staticStyle:{background:"#263238 !important"}},[a("div",{staticClass:"card ",staticStyle:{background:"#263238 !important"}},[a("div",{staticClass:"card-body",staticStyle:{background:"#263238 !important"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loader"},[a("div",{staticClass:"nb-spinner"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h4",{staticClass:"card-title"},[a("router-link",{attrs:{to:"/"}},[a("i",{staticClass:"fas fa-arrow-left"})]),a("span",{staticClass:"float-right"},[t._v("Vault ID #"+t._s(t.id))])],1)]),t._m(0),a("div",{staticClass:"col-md-12"},[a("h4",[t._v("Vault Info")]),a("h6",[t._v("Collateral "),a("span",{staticClass:"float-right"},[t._v(t._s(t.vaultData.vaultCollateral)+" Matic")])]),a("h6",[t._v("Debt "),a("span",{staticClass:"float-right"},[t._v(t._s(t.vaultData.debt)+" ghoshDai (gDai)")])]),a("h6",[t._v("Collateral Value "),a("span",{staticClass:"float-right"},[t._v("$"+t._s(parseFloat(t.bnbprice)*parseFloat(t.vaultData.vaultCollateral))+" USD")])]),a("h6",[t._v("Debt Value "),a("span",{staticClass:"float-right"},[t._v("$"+t._s(parseFloat(t.gDaiPrice)*parseFloat(t.vaultData.debt))+" USD")])]),a("h6",[t._v("Collateral to Debt Ratio "),a("span",{staticClass:"float-right"},[t._v(t._s(parseFloat(t.bnbprice)*parseFloat(t.vaultData.vaultCollateral)/(parseFloat(t.gDaiPrice)*parseFloat(t.vaultData.debt))*100)+" %")])]),t._m(1)]),a("div",{staticClass:"col-md-12"},[a("h6",[t._v("Current MATIC price "),a("span",{staticClass:"float-right"},[t._v("$"+t._s(t.bnbprice))])])]),t.vaultOwner?a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-success m-1",on:{click:t.openDeopsitModal}},[t._v("Deposit ")]),a("button",{staticClass:"btn btn-success m-1",on:{click:t.openWithdrawModal}},[t._v("Withdraw ")]),a("button",{staticClass:"btn btn-warning m-1",on:{click:t.openborrowModal}},[t._v("Borrow ")]),a("button",{staticClass:"btn btn-warning m-1",on:{click:t.openrepayModal}},[t._v("PayBack ")]),a("button",{staticClass:"btn btn-warning m-1",on:{click:t.openTransferModal}},[t._v("Transfer Vault")]),a("button",{staticClass:"btn btn-danger m-1",on:{click:t.destroyVolt}},[t._v("Destroy Vault")])]):t._e(),t._m(2),a("h4",[t._v("Liquidation Details")]),t._m(3),a("h6",[t._v("Current ETH price "),a("span",{staticClass:"float-right"},[t._v("$"+t._s(t.bnbprice))])]),a("h6",[t._v("Estimated liquidation price "),a("span",{staticClass:"float-right"},[t._v("$"+t._s((t.bnbprice/3).toFixed(2)))])])])])])]),a("depositecollateral",{attrs:{id:t.id}}),a("withdrawcollateral",{attrs:{id:t.id,colateral:t.vaultData.vaultCollateral}}),a("borrowtoken",{attrs:{id:t.id}}),a("repaytoken",{attrs:{id:t.id}}),a("transfervault",{attrs:{id:t.id}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("hr",{staticClass:"alert-success mt-4"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",[t._v("Collateral to Debt Ratio "),a("span",{staticClass:"float-right"},[t._v("150.00 %")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("hr",{staticClass:"alert-success mt-4"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("hr",{staticClass:"alert-success mt-4"})])}],r=a("1da1"),o=(a("96cf"),{props:["id"],data:function(){return{owner:"",loading:!1}},mounted:function(){var t=this;setTimeout((function(){t.loadData()}),1e3),console.log(this.$route.params.id)},computed:{bnbprice:function(){return this.$store.state.constant.bnbprice},gDaiPrice:function(){return this.$store.state.constant.gDaiPrice},vaultData:function(){return this.$store.state.vault.vault},vaultOwner:function(){return this.$store.state.vault.vaultOwner},user:function(){return this.$store.state.currentUser.user}},methods:{destroyVolt:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("loading/activateLoader",!0),e.prev=1,e.next=4,window.tokenContract.methods.destroyVault(t.id).send({from:t.user.address});case 4:t.$toast.success("vault destroyed successfully"),t.$router.push({path:"/"}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0),t.$toast.error("transaction reverted");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},openTransferModal:function(){this.$store.dispatch("vault/transferVaultDialog",!0)},openborrowModal:function(){this.$store.dispatch("vault/borrowDialog",!0)},openrepayModal:function(){this.$store.dispatch("vault/rapayDialog",!0)},openDeopsitModal:function(){this.$store.dispatch("vault/depositDialog",!0)},openWithdrawModal:function(){this.$store.dispatch("vault/withdrawDialog",!0)},loadData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("vault/loadVault",t.id);case 1:case"end":return e.stop()}}),e)})))()}}}),i=o,l=a("2877"),c=Object(l["a"])(i,n,s,!1,null,null,null);e["default"]=c.exports},b1a3:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=[{constant:!1,inputs:[{name:"_tokenPeg",type:"uint256"}],name:"setTokenPeg",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"stabilityPool",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"ethPriceSourceAddress",type:"address"}],name:"changeEthPriceSource",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"vaultID",type:"uint256"},{name:"amount",type:"uint256"}],name:"borrowToken",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"closingFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"vaultOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"setClosingFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"vaultID",type:"uint256"},{name:"to",type:"address"}],name:"transferVault",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"account",type:"address"},{name:"amount",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"ethPriceSource",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"createVault",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"treasury",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_treasury",type:"uint256"}],name:"setTreasury",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"openingFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"vaultID",type:"uint256"},{name:"amount",type:"uint256"}],name:"withdrawCollateral",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"vaultID",type:"uint256"},{name:"amount",type:"uint256"}],name:"payBackToken",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"vaultID",type:"uint256"}],name:"destroyVault",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"setOpeningFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getDebtCeiling",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getEthPriceSource",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_pool",type:"address"}],name:"setStabilityPool",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"account",type:"address"},{name:"amount",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"vaultExistence",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getClosingFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"vaultCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOpeningFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"setDebtCeiling",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"vaultID",type:"uint256"}],name:"depositCollateral",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"erc721",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getTokenPriceSource",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tokenPeg",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"vaultID",type:"uint256"}],name:"buyRiskyVault",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"vaultDebt",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"vaultCollateral",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"debtCeiling",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"ethPriceSourceAddress",type:"address"},{name:"minimumCollateralPercentage",type:"uint256"},{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"vaultAddress",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"vaultID",type:"uint256"},{indexed:!1,name:"creator",type:"address"}],name:"CreateVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"vaultID",type:"uint256"}],name:"DestroyVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"vaultID",type:"uint256"},{indexed:!1,name:"from",type:"address"},{indexed:!1,name:"to",type:"address"}],name:"TransferVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"vaultID",type:"uint256"},{indexed:!1,name:"amount",type:"uint256"}],name:"DepositCollateral",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"vaultID",type:"uint256"},{indexed:!1,name:"amount",type:"uint256"}],name:"WithdrawCollateral",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"vaultID",type:"uint256"},{indexed:!1,name:"amount",type:"uint256"}],name:"BorrowToken",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"vaultID",type:"uint256"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"closingFee",type:"uint256"}],name:"PayBackToken",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"vaultID",type:"uint256"},{indexed:!1,name:"owner",type:"address"},{indexed:!1,name:"buyer",type:"address"},{indexed:!1,name:"amountPaid",type:"uint256"}],name:"BuyRiskyVault",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],s="0x0138391b1edf11911C74717392645238d0Da1Fd9"},bdee:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.depositDialog,callback:function(e){t.depositDialog=e},expression:"depositDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Deposit Collateral ")]),a("v-text-field",{staticStyle:{color:"black"},attrs:{label:"Deposit Amount",type:"number",required:""},model:{value:t.depositAmount,callback:function(e){t.depositAmount=e},expression:"depositAmount"}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v(" cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.deposit}},[t._v(" Deposit ")])],1)],1)],1)},s=[],r=a("1da1"),o=(a("96cf"),{props:["id"],data:function(){return{depositAmount:0}},computed:{depositDialog:function(){return this.$store.state.vault.depositDialog},user:function(){return this.$store.state.currentUser.user}},methods:{deposit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("loading/activateLoader",!0),e.prev=1,e.next=4,window.tokenContract.methods.depositCollateral(t.id).send({from:t.user.address,value:window.web3.utils.toBN(window.web3.utils.toWei(t.depositAmount))});case 4:t.$toast.success("Collatoral Deposited successfully"),t.$store.dispatch("loading/activateLoader",!1),t.$store.dispatch("vault/loadVault",t.id),t.close(),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$toast.error("Transaction Reverted."),t.$store.dispatch("loading/activateLoader",!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()},close:function(){this.$store.dispatch("vault/depositDialog",!1)}},mounted:function(){}}),i=o,l=a("2877"),c=Object(l["a"])(i,n,s,!1,null,null,null);e["default"]=c.exports},e429:function(t,e,a){t.exports=a.p+"img/image.8bed04ce.png"},e56a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.rapayDialog,callback:function(e){t.rapayDialog=e},expression:"rapayDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Repay Token ")]),a("v-text-field",{attrs:{label:"Token Amount",type:"number",required:""},model:{value:t.repayAmount,callback:function(e){t.repayAmount=e},expression:"repayAmount"}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v(" cancel ")]),t.approve?a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.approveToken}},[t._v(" Approve ")]):a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.repayToken}},[t._v(" Repay ")])],1)],1)],1)},s=[],r=a("1da1"),o=(a("96cf"),a("b1a3")),i={props:["id"],data:function(){return{approve:!0,repayAmount:0}},computed:{rapayDialog:function(){return this.$store.state.vault.rapayDialog},user:function(){return this.$store.state.currentUser.user}},methods:{approveToken:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("loading/activateLoader",!0),e.prev=1,e.next=4,window.tokenContract.methods.approve(o["b"],window.web3.utils.toBN(window.web3.utils.toWei(t.repayAmount))).send({from:t.user.address});case 4:t.$toast.success("Token Approved successfully"),t.$store.dispatch("loading/activateLoader",!1),t.$store.dispatch("vault/loadVault",t.id),t.approve=!1,e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$toast.error("error approving token"),console.log(e.t0),t.$store.dispatch("loading/activateLoader",!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))()},repayToken:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("loading/activateLoader",!0),e.prev=1,e.next=4,window.tokenContract.methods.payBackToken(t.id,window.web3.utils.toBN(window.web3.utils.toWei(t.repayAmount))).send({from:t.user.address});case 4:t.$toast.success("Token Repayed successfully"),t.$store.dispatch("loading/activateLoader",!1),t.$store.dispatch("vault/loadVault",t.id),t.approve=!0,t.close(),e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](1),t.$toast.error("Transaction Reverted."),console.log(JSON.parse(e.t0)),t.$store.dispatch("loading/activateLoader",!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()},close:function(){this.$store.dispatch("vault/rapayDialog",!1)}},mounted:function(){}},l=i,c=a("2877"),u=Object(c["a"])(l,n,s,!1,null,null,null);e["default"]=u.exports},f5e5:function(t,e,a){"use strict";a("9873")}});
//# sourceMappingURL=app.f46d89e3.js.map